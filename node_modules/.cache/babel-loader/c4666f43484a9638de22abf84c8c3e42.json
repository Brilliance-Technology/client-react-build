{"ast":null,"code":"import _regeneratorRuntime from\"/Users/naresh/Desktop/GitProject/client-build-react/client-react-build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/naresh/Desktop/GitProject/client-build-react/client-react-build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/naresh/Desktop/GitProject/client-build-react/client-react-build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from\"react\";import{Alert}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(props){var _ref3;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),fail=_useState6[0],setFail=_useState6[1];var inputElement=useRef(\"\");var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchTerm=_useState8[0],setSearchTerm=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),searchResults=_useState10[0],setSearchResults=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),item=_useState12[0],setItem=_useState12[1];var onDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var toLogout;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(id);toLogout=window.confirm(\"Are you sure to delete ?\");if(!toLogout){_context.next=7;break;}_context.next=5;return axios.delete(\"https://student-management01.herokuapp.com/student/delete/\".concat(id)).then(function(res){if(res){console.log(res);setSuccess(true);}else{setFail(true);}});case 5:_context.next=8;break;case 7:setFail(true);case 8:case\"end\":return _context.stop();}}},_callee);}));return function onDelete(_x){return _ref.apply(this,arguments);};}();useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"https://student-management01.herokuapp.com/student/getAll\").then(function(res){var response=res.data.res;setUsers(response);});case 2:case\"end\":return _context2.stop();}}},_callee2);})),[user]);var getSearchTerm=function getSearchTerm(){searchHandler(inputElement.current.value);};var searchHandler=function searchHandler(searchTerm){setSearchTerm(searchTerm);if(searchTerm!==\"\"){var newItemsList=user.filter(function(items){// console.log(Object.values(item));\nreturn Object.values(items).join(\"\").toLowerCase().includes(searchTerm.toLowerCase());});setSearchResults(newItemsList);}else{setSearchResults(user);}};var editButton;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{style:{height:\"50px\",width:\"400px\",borderRadius:\"0%,30%,0%,30%\",border:\"6px solid lightgrey\",boxShadow:\"0px 2px 6px grey\",marginLeft:\"130px\"},ref:inputElement,type:\"text\",placeholder:\"Search by Name,Percentage\",value:searchTerm,onChange:getSearchTerm}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Alert,{show:success,dismissable:true,variant:\"success\",children:\"Deleted SuccessFully\"}),/*#__PURE__*/_jsx(Alert,{show:fail,dismissable:true,variant:\"danger\",children:\"somethiing went wrong\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No.\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date Of Birth\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Percentage\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:searchResults.length>1||user.length>1?(_ref3=searchTerm.length<1?user:searchResults)===null||_ref3===void 0?void 0:_ref3.map(function(val,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"snumber\",scope:\"row\",children:val.id}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:val.firstname}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:val.lastname}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:val.dob}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:val.percentage}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://\"+val.profile_picture,alt:\"profilePic\",style:{height:\"100px\",width:\"100px\",borderRadius:\"50%\",border:\"6px solid lightgrey\",boxShadow:\"0px 2px 6px grey\"}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(val._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"edit_button\"// onClick={props.handleShow}\n,id:val.id,children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-edit\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"delete_button\",onClick:function onClick(){return onDelete(val._id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-trash-alt\"})})]})]},index);}):\"No orders Found\"})]})]});};export default Table;","map":{"version":3,"sources":["/Users/naresh/Desktop/GitProject/client-build-react/client-react-build/src/Components/Dashboard/Table.js"],"names":["React","useState","useEffect","useRef","Alert","Link","axios","Table","props","user","setUsers","success","setSuccess","fail","setFail","inputElement","searchTerm","setSearchTerm","searchResults","setSearchResults","item","setItem","onDelete","id","console","log","toLogout","window","confirm","delete","then","res","get","response","data","getSearchTerm","searchHandler","current","value","newItemsList","filter","items","Object","values","join","toLowerCase","includes","editButton","height","width","borderRadius","border","boxShadow","marginLeft","length","map","val","index","firstname","lastname","dob","percentage","profile_picture","_id"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,KAAT,KAAsB,iBAAtB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,WACvB,cAAyBP,QAAQ,CAAC,EAAD,CAAjC,wCAAOQ,IAAP,eAAaC,QAAb,eACA,eAA8BT,QAAQ,CAAC,KAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAAwBX,QAAQ,CAAC,KAAD,CAAhC,yCAAOY,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,YAAY,CAAGZ,MAAM,CAAC,EAAD,CAA3B,CACA,eAAoCF,QAAQ,CAAC,EAAD,CAA5C,yCAAOe,UAAP,eAAmBC,aAAnB,eACA,eAA0ChB,QAAQ,CAAC,EAAD,CAAlD,0CAAOiB,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAwBlB,QAAQ,CAAC,EAAD,CAAhC,2CAAOmB,IAAP,gBAAaC,OAAb,gBACA,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOC,EAAP,+HACfC,OAAO,CAACC,GAAR,CAAYF,EAAZ,EACMG,QAFS,CAEEC,MAAM,CAACC,OAAP,CAAe,0BAAf,CAFF,KAGZF,QAHY,+CAIPpB,CAAAA,KAAK,CAACuB,MAAN,qEAA0EN,EAA1E,GAAgFO,IAAhF,CAAqF,SAACC,GAAD,CAAS,CAClG,GAAIA,GAAJ,CAAS,CACPP,OAAO,CAACC,GAAR,CAAYM,GAAZ,EACAnB,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,IAGO,CACLE,OAAO,CAAC,IAAD,CAAP,CACD,CACF,CAPK,CAJO,qCAcbA,OAAO,CAAC,IAAD,CAAP,CAda,sDAAH,kBAARQ,CAAAA,QAAQ,4CAAd,CAqBApB,SAAS,sEAAC,+JACFI,CAAAA,KAAK,CAAC0B,GAAN,8DACHF,IADG,CACE,SAACC,GAAD,CAAS,CACb,GAAME,CAAAA,QAAQ,CAAGF,GAAG,CAACG,IAAJ,CAASH,GAA1B,CACArB,QAAQ,CAACuB,QAAD,CAAR,CACD,CAJG,CADE,yDAAD,GAON,CAACxB,IAAD,CAPM,CAAT,CAUD,GAAM0B,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACzBC,aAAa,CAACrB,YAAY,CAACsB,OAAb,CAAqBC,KAAtB,CAAb,CACD,CAFF,CAIC,GAAMF,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACpB,UAAD,CAAgB,CACpCC,aAAa,CAACD,UAAD,CAAb,CACA,GAAIA,UAAU,GAAK,EAAnB,CAAuB,CACrB,GAAMuB,CAAAA,YAAY,CAAG9B,IAAI,CAAC+B,MAAL,CAAY,SAACC,KAAD,CAAW,CAC1C;AACA,MAAOC,CAAAA,MAAM,CAACC,MAAP,CAAcF,KAAd,EACJG,IADI,CACC,EADD,EAEJC,WAFI,GAGJC,QAHI,CAGK9B,UAAU,CAAC6B,WAAX,EAHL,CAAP,CAID,CANoB,CAArB,CAOA1B,gBAAgB,CAACoB,YAAD,CAAhB,CACD,CATD,IASO,CACLpB,gBAAgB,CAACV,IAAD,CAAhB,CACD,CACF,CAdD,CAgBA,GAAIsC,CAAAA,UAAJ,CAEA,mBACE,wCACE,cACM,KAAK,CAAE,CACKC,MAAM,CAAE,MADb,CAEKC,KAAK,CAAE,OAFZ,CAGKC,YAAY,CAAE,eAHnB,CAIKC,MAAM,CAAE,qBAJb,CAKKC,SAAS,CAAE,kBALhB,CAMKC,UAAU,CAAC,OANhB,CADb,CAUM,GAAG,CAAEtC,YAVX,CAWM,IAAI,CAAC,MAXX,CAYM,WAAW,CAAC,2BAZlB,CAaM,KAAK,CAAEC,UAbb,CAcM,QAAQ,CAAEmB,aAdhB,EADF,cAkBE,oCACE,KAAC,KAAD,EAAO,IAAI,CAAExB,OAAb,CAAsB,WAAW,KAAjC,CAAkC,OAAO,CAAC,SAA1C,kCADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAEE,IAAb,CAAmB,WAAW,KAA9B,CAA+B,OAAO,CAAC,QAAvC,mCAJF,GAlBF,cA0BE,eAAO,SAAS,CAAC,OAAjB,wBACE,cAAO,SAAS,CAAC,YAAjB,uBACE,mCACE,6BADF,cAEE,WAAI,KAAK,CAAC,KAAV,kBAFF,cAGE,WAAI,KAAK,CAAC,KAAV,uBAHF,cAIE,WAAI,KAAK,CAAC,KAAV,2BAJF,cAKE,WAAI,KAAK,CAAC,KAAV,wBALF,cAME,WAAI,KAAK,CAAC,KAAV,6BANF,cAOE,WAAI,KAAK,CAAC,KAAV,qBAPF,GADF,EADF,cAYE,uBACGK,aAAa,CAACoC,MAAd,CAAuB,CAAvB,EAA4B7C,IAAI,CAAC6C,MAAL,CAAc,CAA1C,QACQtC,UAAU,CAACsC,MAAX,CAAoB,CAApB,CAAwB7C,IAAxB,CAA+BS,aADvC,gCACO,MAAgDqC,GAAhD,CAAoD,SAACC,GAAD,CAAMC,KAAN,qBAC1D,mCACE,WAAI,SAAS,CAAC,SAAd,CAAwB,KAAK,CAAC,KAA9B,UACGD,GAAG,CAACjC,EADP,EADF,cAIE,WAAI,KAAK,CAAC,KAAV,UAAiBiC,GAAG,CAACE,SAArB,EAJF,cAKE,WAAI,KAAK,CAAC,KAAV,UAAiBF,GAAG,CAACG,QAArB,EALF,cAME,WAAI,KAAK,CAAC,KAAV,UAAiBH,GAAG,CAACI,GAArB,EANF,cAOE,WAAI,KAAK,CAAC,KAAV,UAAiBJ,GAAG,CAACK,UAArB,EAPF,cAQE,WAAI,KAAK,CAAC,KAAV,uBACA,YACQ,GAAG,CAAE,UAAYL,GAAG,CAACM,eAD7B,CAEQ,GAAG,CAAC,YAFZ,CAGQ,KAAK,CAAE,CACLd,MAAM,CAAE,OADH,CAELC,KAAK,CAAE,OAFF,CAGLC,YAAY,CAAE,KAHT,CAILC,MAAM,CAAE,qBAJH,CAKLC,SAAS,CAAE,kBALN,CAHf,EADA,EARF,cAqBE,mCACE,KAAC,IAAD,EAAM,EAAE,iBAAWI,GAAG,CAACO,GAAf,CAAR,uBACE,eACE,SAAS,CAAC,aACV;AAFF,CAGE,EAAE,CAAEP,GAAG,CAACjC,EAHV,uBAKE,UAAG,KAAK,CAAC,aAAT,EALF,EADF,EADF,cAUE,eACE,SAAS,CAAC,eADZ,CAEE,OAAO,CAAE,yBAAMD,CAAAA,QAAQ,CAACkC,GAAG,CAACO,GAAL,CAAd,EAFX,uBAIE,UAAG,KAAK,CAAC,kBAAT,EAJF,EAVF,GArBF,GAASN,KAAT,CAD0D,EAApD,CADP,CAyCW,iBA1Cd,EAZF,GA1BF,GADF,CAsFD,CAnJD,CAqJA,cAAelD,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect ,useRef } from \"react\";\nimport { Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst Table = (props) => {\n  const [user, setUsers] = useState([]);\n  const [success, setSuccess] = useState(false);\n  const [fail, setFail] = useState(false);\n  const inputElement = useRef(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [item, setItem] = useState({});\n  const onDelete = async (id) => {\n    console.log(id);\n    const toLogout = window.confirm(\"Are you sure to delete ?\");\n    if(toLogout){\n      await axios.delete(`https://student-management01.herokuapp.com/student/delete/${id}`).then((res) => {\n        if (res) {\n          console.log(res);\n          setSuccess(true);\n        } else {\n          setFail(true);\n        }\n      })\n    }\n    else{\n      setFail(true);\n    }\n\n  };\n\n\n\n  useEffect(async () => {\n    await axios.get(`https://student-management01.herokuapp.com/student/getAll`)\n      .then((res) => {\n        const response = res.data.res;\n        setUsers(response);\n      })\n\n  }, [user]);\n\n\n const getSearchTerm = () => {\n    searchHandler(inputElement.current.value);\n  };\n  \n  const searchHandler = (searchTerm) => {\n    setSearchTerm(searchTerm);\n    if (searchTerm !== \"\") {\n      const newItemsList = user.filter((items) => {\n        // console.log(Object.values(item));\n        return Object.values(items)\n          .join(\"\")\n          .toLowerCase()\n          .includes(searchTerm.toLowerCase());\n      });\n      setSearchResults(newItemsList);\n    } else {\n      setSearchResults(user);\n    }\n  };\n\n  let editButton;\n\n  return (\n    <>\n      <input\n            style={{\n                        height: \"50px\",\n                        width: \"400px\",\n                        borderRadius: \"0%,30%,0%,30%\",\n                        border: \"6px solid lightgrey\",\n                        boxShadow: \"0px 2px 6px grey\",\n                        marginLeft:\"130px\",\n                      }}\n          \n            ref={inputElement}\n            type=\"text\"\n            placeholder=\"Search by Name,Percentage\"\n            value={searchTerm}\n            onChange={getSearchTerm}\n          />\n          \n      <div>\n        <Alert show={success} dismissable variant=\"success\">\n          Deleted SuccessFully\n        </Alert>\n        <Alert show={fail} dismissable variant=\"danger\">\n          somethiing went wrong\n        </Alert>\n      </div>\n      <table className=\"table\">\n        <thead className=\"thead-dark\">\n          <tr>\n            <th>S.No.</th>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Last Name</th>\n            <th scope=\"col\">Date Of Birth</th>\n            <th scope=\"col\">Percentage</th>\n            <th scope=\"col\">Profile Picture</th>\n            <th scope=\"col\">Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {searchResults.length > 1 || user.length > 1\n                ? (searchTerm.length < 1 ? user : searchResults)?.map((val, index) => (\n            <tr key={index}>\n              <th className=\"snumber\" scope=\"row\">\n                {val.id}\n              </th>\n              <td scope=\"col\">{val.firstname}</td>\n              <td scope=\"col\">{val.lastname}</td>\n              <td scope=\"col\">{val.dob}</td>\n              <td scope=\"col\">{val.percentage}</td>\n              <td scope=\"col\">\n              <img\n                      src={\"http://\" + val.profile_picture}\n                      alt=\"profilePic\"\n                      style={{\n                        height: \"100px\",\n                        width: \"100px\",\n                        borderRadius: \"50%\",\n                        border: \"6px solid lightgrey\",\n                        boxShadow: \"0px 2px 6px grey\",\n                      }}\n                    />\n              </td>\n              <td>\n                <Link to={`/edit/${val._id}`}>\n                  <button\n                    className=\"edit_button\"\n                    // onClick={props.handleShow}\n                    id={val.id}\n                  >\n                    <i class=\"far fa-edit\"></i>\n                  </button>\n                </Link>\n                <button\n                  className=\"delete_button\"\n                  onClick={() => onDelete(val._id)}\n                >\n                  <i class=\"far fa-trash-alt\"></i>\n                </button>\n              </td>\n            </tr>\n                 )) : \"No orders Found\"}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}